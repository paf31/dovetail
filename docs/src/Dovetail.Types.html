<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE BlockArguments             #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE DataKinds                  #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE DerivingStrategies         #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE GeneralizedNewtypeDeriving #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE ImportQualifiedPost        #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE LambdaCase                 #-}</span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# LANGUAGE RankNTypes                 #-}</span><span>
</span><span id="line-8"></span><span class="hs-pragma">{-# LANGUAGE TypeApplications           #-}</span><span>
</span><span id="line-9"></span><span>
</span><span id="line-10"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Dovetail.Types</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-11"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Evaluation</span></span><span>
</span><span id="line-12"></span><span>  </span><span class="annot"><span class="hs-comment">-- ** Value types</span></span><span>
</span><span id="line-13"></span><span>    </span><span class="annot"><a href="Dovetail.Types.html#Value"><span class="hs-identifier">Value</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-14"></span><span>  </span><span>
</span><span id="line-15"></span><span>  </span><span class="annot"><span class="hs-comment">-- ** Evaluation monad</span></span><span>
</span><span id="line-16"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Dovetail.Types.html#Env"><span class="hs-identifier">Env</span></a></span><span>
</span><span id="line-17"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Dovetail.Types.html#EvalT"><span class="hs-identifier">EvalT</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-18"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Dovetail.Types.html#runEvalT"><span class="hs-identifier">runEvalT</span></a></span><span>
</span><span id="line-19"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Dovetail.Types.html#Eval"><span class="hs-identifier">Eval</span></a></span><span>
</span><span id="line-20"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Dovetail.Types.html#runEval"><span class="hs-identifier">runEval</span></a></span><span>
</span><span id="line-21"></span><span>  </span><span>
</span><span id="line-22"></span><span>  </span><span class="annot"><span class="hs-comment">-- ** Evaluation errors</span></span><span>
</span><span id="line-23"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Dovetail.Types.html#EvaluationError"><span class="hs-identifier">EvaluationError</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-24"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Dovetail.Types.html#renderEvaluationError"><span class="hs-identifier">renderEvaluationError</span></a></span><span>
</span><span id="line-25"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-26"></span><span>  </span><span>
</span><span id="line-27"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.Error.Class</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">MonadError</span></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-28"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.Fix</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">MonadFix</span></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-29"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.Trans.Class</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">MonadTrans</span></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-30"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.Trans.Except</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">ExceptT</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">runExceptT</span></span><span class="hs-special">)</span><span>
</span><span id="line-31"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Functor.Identity</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Identity</span></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-32"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.HashMap.Strict</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">HashMap</span></span><span class="hs-special">)</span><span>
</span><span id="line-33"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Map</span></span><span class="hs-special">)</span><span>
</span><span id="line-34"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Text</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Text</span></span><span class="hs-special">)</span><span>
</span><span id="line-35"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Text</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Text</span></span><span>
</span><span id="line-36"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Vector</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Vector</span></span><span class="hs-special">)</span><span>
</span><span id="line-37"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Language.PureScript.Names</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Ident</span></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Qualified</span></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-38"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Language.PureScript.Names</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Names</span></span><span>
</span><span id="line-39"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Language.PureScript.PSString</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">PSString</span></span><span>
</span><span id="line-40"></span><span>  </span><span>
</span><span id="line-41"></span><span class="hs-comment">-- | The representation of values used by the interpreter - essentially, the</span><span>
</span><span id="line-42"></span><span class="hs-comment">-- semantic domain for a simple untyped lambda calculus with records and ADTs.</span><span>
</span><span id="line-43"></span><span class="hs-comment">--</span><span>
</span><span id="line-44"></span><span class="hs-comment">-- Any additional side effects which might occur in FFI calls to Haskell code</span><span>
</span><span id="line-45"></span><span class="hs-comment">-- are tracked by a monad in the type argument.</span><span>
</span><span id="line-46"></span><span class="hs-keyword">data</span><span> </span><span id="Value"><span class="annot"><a href="Dovetail.Types.html#Value"><span class="hs-identifier hs-var">Value</span></a></span></span><span> </span><span id="local-6989586621679123647"><span class="annot"><a href="#local-6989586621679123647"><span class="hs-identifier hs-type">m</span></a></span></span><span>
</span><span id="line-47"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="Object"><span class="annot"><a href="Dovetail.Types.html#Object"><span class="hs-identifier hs-var">Object</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">HashMap</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Dovetail.Types.html#Value"><span class="hs-identifier hs-type">Value</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679123647"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-48"></span><span>  </span><span class="hs-comment">-- ^ Records are represented as hashmaps from their field names to values</span><span>
</span><span id="line-49"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="Array"><span class="annot"><a href="Dovetail.Types.html#Array"><span class="hs-identifier hs-var">Array</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Vector</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Dovetail.Types.html#Value"><span class="hs-identifier hs-type">Value</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679123647"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-50"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="String"><span class="annot"><a href="Dovetail.Types.html#String"><span class="hs-identifier hs-var">String</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>
</span><span id="line-51"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="Char"><span class="annot"><a href="Dovetail.Types.html#Char"><span class="hs-identifier hs-var">Char</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Char</span></span><span>
</span><span id="line-52"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="Number"><span class="annot"><a href="Dovetail.Types.html#Number"><span class="hs-identifier hs-var">Number</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span>
</span><span id="line-53"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="Int"><span class="annot"><a href="Dovetail.Types.html#Int"><span class="hs-identifier hs-var">Int</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span>
</span><span id="line-54"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="Bool"><span class="annot"><a href="Dovetail.Types.html#Bool"><span class="hs-identifier hs-var">Bool</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-55"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="Closure"><span class="annot"><a href="Dovetail.Types.html#Closure"><span class="hs-identifier hs-var">Closure</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Dovetail.Types.html#Value"><span class="hs-identifier hs-type">Value</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679123647"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Dovetail.Types.html#EvalT"><span class="hs-identifier hs-type">EvalT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679123647"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Dovetail.Types.html#Value"><span class="hs-identifier hs-type">Value</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679123647"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-56"></span><span>  </span><span class="hs-comment">-- ^ Closures, represented in higher-order abstract syntax style.</span><span>
</span><span id="line-57"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="Constructor"><span class="annot"><a href="Dovetail.Types.html#Constructor"><span class="hs-identifier hs-var">Constructor</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Names.ProperName</span></span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Names.ConstructorName</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Dovetail.Types.html#Value"><span class="hs-identifier hs-type">Value</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679123647"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-58"></span><span>  </span><span class="hs-comment">-- ^ Fully-applied data constructors</span><span>
</span><span id="line-59"></span><span>
</span><span id="line-60"></span><span class="hs-comment">-- | An environment, i.e. a mapping from names to evaluated values.</span><span>
</span><span id="line-61"></span><span class="hs-comment">--</span><span>
</span><span id="line-62"></span><span class="hs-comment">-- An environment for a single built-in function can be constructed</span><span>
</span><span id="line-63"></span><span class="hs-comment">-- using the 'builtIn' function, and environments can be combined</span><span>
</span><span id="line-64"></span><span class="hs-comment">-- easily using the 'Monoid' instance for 'Map'.</span><span>
</span><span id="line-65"></span><span class="hs-keyword">type</span><span> </span><span id="Env"><span class="annot"><a href="Dovetail.Types.html#Env"><span class="hs-identifier hs-var">Env</span></a></span></span><span> </span><span id="local-6989586621679123635"><span class="annot"><a href="#local-6989586621679123635"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Qualified</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ident</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Dovetail.Types.html#Value"><span class="hs-identifier hs-type">Value</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679123635"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-66"></span><span>
</span><span id="line-67"></span><span class="hs-comment">-- | The monad used by the interpreter, which supports error reporting for errors</span><span>
</span><span id="line-68"></span><span class="hs-comment">-- which can occur during evaluation.</span><span>
</span><span id="line-69"></span><span class="hs-comment">--</span><span>
</span><span id="line-70"></span><span class="hs-comment">-- The transformed monad is used to track any benign side effects that might be</span><span>
</span><span id="line-71"></span><span class="hs-comment">-- exposed via the foreign function interface to PureScript code.</span><span>
</span><span id="line-72"></span><span class="hs-keyword">newtype</span><span> </span><span id="EvalT"><span class="annot"><a href="Dovetail.Types.html#EvalT"><span class="hs-identifier hs-var">EvalT</span></a></span></span><span> </span><span id="local-6989586621679123673"><span class="annot"><a href="#local-6989586621679123673"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span id="local-6989586621679123672"><span class="annot"><a href="#local-6989586621679123672"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="EvalT"><span class="annot"><a href="Dovetail.Types.html#EvalT"><span class="hs-identifier hs-var">EvalT</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="unEvalT"><span class="annot"><span class="annottext">EvalT m a -&gt; ExceptT EvaluationError m a
</span><a href="Dovetail.Types.html#unEvalT"><span class="hs-identifier hs-var hs-var">unEvalT</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ExceptT</span></span><span> </span><span class="annot"><a href="Dovetail.Types.html#EvaluationError"><span class="hs-identifier hs-type">EvaluationError</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679123673"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679123672"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-73"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">newtype</span></span><span> </span><span>
</span><span id="line-74"></span><span>    </span><span class="hs-special">(</span><span> </span><span id="local-6989586621679123629"><span id="local-6989586621679123631"><span class="annot"><span class="annottext">a -&gt; EvalT m b -&gt; EvalT m a
(a -&gt; b) -&gt; EvalT m a -&gt; EvalT m b
(forall a b. (a -&gt; b) -&gt; EvalT m a -&gt; EvalT m b)
-&gt; (forall a b. a -&gt; EvalT m b -&gt; EvalT m a) -&gt; Functor (EvalT m)
forall a b. a -&gt; EvalT m b -&gt; EvalT m a
forall a b. (a -&gt; b) -&gt; EvalT m a -&gt; EvalT m b
forall (m :: * -&gt; *) a b. Functor m =&gt; a -&gt; EvalT m b -&gt; EvalT m a
forall (m :: * -&gt; *) a b.
Functor m =&gt;
(a -&gt; b) -&gt; EvalT m a -&gt; EvalT m b
forall (f :: * -&gt; *).
(forall a b. (a -&gt; b) -&gt; f a -&gt; f b)
-&gt; (forall a b. a -&gt; f b -&gt; f a) -&gt; Functor f
&lt;$ :: a -&gt; EvalT m b -&gt; EvalT m a
$c&lt;$ :: forall (m :: * -&gt; *) a b. Functor m =&gt; a -&gt; EvalT m b -&gt; EvalT m a
fmap :: (a -&gt; b) -&gt; EvalT m a -&gt; EvalT m b
$cfmap :: forall (m :: * -&gt; *) a b.
Functor m =&gt;
(a -&gt; b) -&gt; EvalT m a -&gt; EvalT m b
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Functor</span></span></span></span><span>
</span><span id="line-75"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621679123617"><span id="local-6989586621679123619"><span id="local-6989586621679123621"><span id="local-6989586621679123623"><span id="local-6989586621679123625"><span class="annot"><span class="annottext">Functor (EvalT m)
a -&gt; EvalT m a
Functor (EvalT m)
-&gt; (forall a. a -&gt; EvalT m a)
-&gt; (forall a b. EvalT m (a -&gt; b) -&gt; EvalT m a -&gt; EvalT m b)
-&gt; (forall a b c.
    (a -&gt; b -&gt; c) -&gt; EvalT m a -&gt; EvalT m b -&gt; EvalT m c)
-&gt; (forall a b. EvalT m a -&gt; EvalT m b -&gt; EvalT m b)
-&gt; (forall a b. EvalT m a -&gt; EvalT m b -&gt; EvalT m a)
-&gt; Applicative (EvalT m)
EvalT m a -&gt; EvalT m b -&gt; EvalT m b
EvalT m a -&gt; EvalT m b -&gt; EvalT m a
EvalT m (a -&gt; b) -&gt; EvalT m a -&gt; EvalT m b
(a -&gt; b -&gt; c) -&gt; EvalT m a -&gt; EvalT m b -&gt; EvalT m c
forall a. a -&gt; EvalT m a
forall a b. EvalT m a -&gt; EvalT m b -&gt; EvalT m a
forall a b. EvalT m a -&gt; EvalT m b -&gt; EvalT m b
forall a b. EvalT m (a -&gt; b) -&gt; EvalT m a -&gt; EvalT m b
forall a b c. (a -&gt; b -&gt; c) -&gt; EvalT m a -&gt; EvalT m b -&gt; EvalT m c
forall (m :: * -&gt; *). Monad m =&gt; Functor (EvalT m)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; EvalT m a
forall (m :: * -&gt; *) a b.
Monad m =&gt;
EvalT m a -&gt; EvalT m b -&gt; EvalT m a
forall (m :: * -&gt; *) a b.
Monad m =&gt;
EvalT m a -&gt; EvalT m b -&gt; EvalT m b
forall (m :: * -&gt; *) a b.
Monad m =&gt;
EvalT m (a -&gt; b) -&gt; EvalT m a -&gt; EvalT m b
forall (m :: * -&gt; *) a b c.
Monad m =&gt;
(a -&gt; b -&gt; c) -&gt; EvalT m a -&gt; EvalT m b -&gt; EvalT m c
forall (f :: * -&gt; *).
Functor f
-&gt; (forall a. a -&gt; f a)
-&gt; (forall a b. f (a -&gt; b) -&gt; f a -&gt; f b)
-&gt; (forall a b c. (a -&gt; b -&gt; c) -&gt; f a -&gt; f b -&gt; f c)
-&gt; (forall a b. f a -&gt; f b -&gt; f b)
-&gt; (forall a b. f a -&gt; f b -&gt; f a)
-&gt; Applicative f
&lt;* :: EvalT m a -&gt; EvalT m b -&gt; EvalT m a
$c&lt;* :: forall (m :: * -&gt; *) a b.
Monad m =&gt;
EvalT m a -&gt; EvalT m b -&gt; EvalT m a
*&gt; :: EvalT m a -&gt; EvalT m b -&gt; EvalT m b
$c*&gt; :: forall (m :: * -&gt; *) a b.
Monad m =&gt;
EvalT m a -&gt; EvalT m b -&gt; EvalT m b
liftA2 :: (a -&gt; b -&gt; c) -&gt; EvalT m a -&gt; EvalT m b -&gt; EvalT m c
$cliftA2 :: forall (m :: * -&gt; *) a b c.
Monad m =&gt;
(a -&gt; b -&gt; c) -&gt; EvalT m a -&gt; EvalT m b -&gt; EvalT m c
&lt;*&gt; :: EvalT m (a -&gt; b) -&gt; EvalT m a -&gt; EvalT m b
$c&lt;*&gt; :: forall (m :: * -&gt; *) a b.
Monad m =&gt;
EvalT m (a -&gt; b) -&gt; EvalT m a -&gt; EvalT m b
pure :: a -&gt; EvalT m a
$cpure :: forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; EvalT m a
$cp1Applicative :: forall (m :: * -&gt; *). Monad m =&gt; Functor (EvalT m)
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Applicative</span></span></span></span></span></span></span><span>
</span><span id="line-76"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621679123609"><span id="local-6989586621679123611"><span id="local-6989586621679123613"><span class="annot"><span class="annottext">Applicative (EvalT m)
a -&gt; EvalT m a
Applicative (EvalT m)
-&gt; (forall a b. EvalT m a -&gt; (a -&gt; EvalT m b) -&gt; EvalT m b)
-&gt; (forall a b. EvalT m a -&gt; EvalT m b -&gt; EvalT m b)
-&gt; (forall a. a -&gt; EvalT m a)
-&gt; Monad (EvalT m)
EvalT m a -&gt; (a -&gt; EvalT m b) -&gt; EvalT m b
EvalT m a -&gt; EvalT m b -&gt; EvalT m b
forall a. a -&gt; EvalT m a
forall a b. EvalT m a -&gt; EvalT m b -&gt; EvalT m b
forall a b. EvalT m a -&gt; (a -&gt; EvalT m b) -&gt; EvalT m b
forall (m :: * -&gt; *). Monad m =&gt; Applicative (EvalT m)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; EvalT m a
forall (m :: * -&gt; *) a b.
Monad m =&gt;
EvalT m a -&gt; EvalT m b -&gt; EvalT m b
forall (m :: * -&gt; *) a b.
Monad m =&gt;
EvalT m a -&gt; (a -&gt; EvalT m b) -&gt; EvalT m b
forall (m :: * -&gt; *).
Applicative m
-&gt; (forall a b. m a -&gt; (a -&gt; m b) -&gt; m b)
-&gt; (forall a b. m a -&gt; m b -&gt; m b)
-&gt; (forall a. a -&gt; m a)
-&gt; Monad m
return :: a -&gt; EvalT m a
$creturn :: forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; EvalT m a
&gt;&gt; :: EvalT m a -&gt; EvalT m b -&gt; EvalT m b
$c&gt;&gt; :: forall (m :: * -&gt; *) a b.
Monad m =&gt;
EvalT m a -&gt; EvalT m b -&gt; EvalT m b
&gt;&gt;= :: EvalT m a -&gt; (a -&gt; EvalT m b) -&gt; EvalT m b
$c&gt;&gt;= :: forall (m :: * -&gt; *) a b.
Monad m =&gt;
EvalT m a -&gt; (a -&gt; EvalT m b) -&gt; EvalT m b
$cp1Monad :: forall (m :: * -&gt; *). Monad m =&gt; Applicative (EvalT m)
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Monad</span></span></span></span></span><span>
</span><span id="line-77"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621679123606"><span class="annot"><span class="annottext">m a -&gt; EvalT m a
(forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; EvalT m a)
-&gt; MonadTrans EvalT
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; EvalT m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *).
(forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; t m a) -&gt; MonadTrans t
lift :: m a -&gt; EvalT m a
$clift :: forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; EvalT m a
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">MonadTrans</span></span></span><span>
</span><span id="line-78"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621679123600"><span id="local-6989586621679123602"><span class="annot"><span class="hs-identifier hs-type">MonadError</span></span><span> </span><span class="annot"><a href="Dovetail.Types.html#EvaluationError"><span class="hs-identifier hs-type">EvaluationError</span></a></span></span></span><span>
</span><span id="line-79"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621679123596"><span class="annot"><span class="annottext">Monad (EvalT m)
Monad (EvalT m)
-&gt; (forall a. (a -&gt; EvalT m a) -&gt; EvalT m a) -&gt; MonadFix (EvalT m)
(a -&gt; EvalT m a) -&gt; EvalT m a
forall a. (a -&gt; EvalT m a) -&gt; EvalT m a
forall (m :: * -&gt; *).
Monad m -&gt; (forall a. (a -&gt; m a) -&gt; m a) -&gt; MonadFix m
forall (m :: * -&gt; *). MonadFix m =&gt; Monad (EvalT m)
forall (m :: * -&gt; *) a. MonadFix m =&gt; (a -&gt; EvalT m a) -&gt; EvalT m a
mfix :: (a -&gt; EvalT m a) -&gt; EvalT m a
$cmfix :: forall (m :: * -&gt; *) a. MonadFix m =&gt; (a -&gt; EvalT m a) -&gt; EvalT m a
$cp1MonadFix :: forall (m :: * -&gt; *). MonadFix m =&gt; Monad (EvalT m)
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var">MonadFix</span></span></span><span>
</span><span id="line-80"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-81"></span><span>
</span><span id="line-82"></span><span id="local-6989586621679123666"><span id="local-6989586621679123667"><span class="annot"><a href="Dovetail.Types.html#runEvalT"><span class="hs-identifier hs-type">runEvalT</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Dovetail.Types.html#EvalT"><span class="hs-identifier hs-type">EvalT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679123667"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679123666"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679123667"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="Dovetail.Types.html#EvaluationError"><span class="hs-identifier hs-type">EvaluationError</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679123666"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-83"></span><span id="runEvalT"><span class="annot"><span class="annottext">runEvalT :: EvalT m a -&gt; m (Either EvaluationError a)
</span><a href="Dovetail.Types.html#runEvalT"><span class="hs-identifier hs-var hs-var">runEvalT</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ExceptT EvaluationError m a -&gt; m (Either EvaluationError a)
forall e (m :: * -&gt; *) a. ExceptT e m a -&gt; m (Either e a)
</span><span class="hs-identifier hs-var">runExceptT</span></span><span> </span><span class="annot"><span class="annottext">(ExceptT EvaluationError m a -&gt; m (Either EvaluationError a))
-&gt; (EvalT m a -&gt; ExceptT EvaluationError m a)
-&gt; EvalT m a
-&gt; m (Either EvaluationError a)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">EvalT m a -&gt; ExceptT EvaluationError m a
forall (m :: * -&gt; *) a. EvalT m a -&gt; ExceptT EvaluationError m a
</span><a href="Dovetail.Types.html#unEvalT"><span class="hs-identifier hs-var hs-var">unEvalT</span></a></span><span>
</span><span id="line-84"></span><span>
</span><span id="line-85"></span><span class="hs-comment">-- | Non-transformer version of `EvalT`, useful in any settings where the FFI</span><span>
</span><span id="line-86"></span><span class="hs-comment">-- does not use any side effects during evaluation.</span><span>
</span><span id="line-87"></span><span class="hs-keyword">type</span><span> </span><span id="Eval"><span class="annot"><a href="Dovetail.Types.html#Eval"><span class="hs-identifier hs-var">Eval</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Dovetail.Types.html#EvalT"><span class="hs-identifier hs-type">EvalT</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Identity</span></span><span>
</span><span id="line-88"></span><span>
</span><span id="line-89"></span><span id="local-6989586621679123593"><span class="annot"><a href="Dovetail.Types.html#runEval"><span class="hs-identifier hs-type">runEval</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Dovetail.Types.html#Eval"><span class="hs-identifier hs-type">Eval</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679123593"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="Dovetail.Types.html#EvaluationError"><span class="hs-identifier hs-type">EvaluationError</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679123593"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-90"></span><span id="runEval"><span class="annot"><span class="annottext">runEval :: Eval a -&gt; Either EvaluationError a
</span><a href="Dovetail.Types.html#runEval"><span class="hs-identifier hs-var hs-var">runEval</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Identity (Either EvaluationError a) -&gt; Either EvaluationError a
forall a. Identity a -&gt; a
</span><span class="hs-identifier hs-var hs-var">runIdentity</span></span><span> </span><span class="annot"><span class="annottext">(Identity (Either EvaluationError a) -&gt; Either EvaluationError a)
-&gt; (Eval a -&gt; Identity (Either EvaluationError a))
-&gt; Eval a
-&gt; Either EvaluationError a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Eval a -&gt; Identity (Either EvaluationError a)
forall (m :: * -&gt; *) a. EvalT m a -&gt; m (Either EvaluationError a)
</span><a href="Dovetail.Types.html#runEvalT"><span class="hs-identifier hs-var">runEvalT</span></a></span><span>
</span><span id="line-91"></span><span>
</span><span id="line-92"></span><span class="hs-comment">-- | Errors which can occur during evaluation of PureScript code.</span><span>
</span><span id="line-93"></span><span class="hs-comment">-- </span><span>
</span><span id="line-94"></span><span class="hs-comment">-- PureScript is a typed language, and tries to prevent runtime errors.</span><span>
</span><span id="line-95"></span><span class="hs-comment">-- However, in the context of this interpreter, we can receive data from outside</span><span>
</span><span id="line-96"></span><span class="hs-comment">-- PureScript code, so it is possible that runtime errors can occur if we are</span><span>
</span><span id="line-97"></span><span class="hs-comment">-- not careful. This is similar to how PureScript code can fail at runtime</span><span>
</span><span id="line-98"></span><span class="hs-comment">-- due to errors in the FFI.</span><span>
</span><span id="line-99"></span><span class="hs-keyword">data</span><span> </span><span id="EvaluationError"><span class="annot"><a href="Dovetail.Types.html#EvaluationError"><span class="hs-identifier hs-var">EvaluationError</span></a></span></span><span> </span><span>
</span><span id="line-100"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="UnknownIdent"><span class="annot"><a href="Dovetail.Types.html#UnknownIdent"><span class="hs-identifier hs-var">UnknownIdent</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Qualified</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ident</span></span><span class="hs-special">)</span><span>
</span><span id="line-101"></span><span>  </span><span class="hs-comment">-- ^ A name was not found in the environment</span><span>
</span><span id="line-102"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="TypeMismatch"><span class="annot"><a href="Dovetail.Types.html#TypeMismatch"><span class="hs-identifier hs-var">TypeMismatch</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>
</span><span id="line-103"></span><span>  </span><span class="hs-comment">-- ^ The runtime representation of a value did not match the expected</span><span>
</span><span id="line-104"></span><span>  </span><span class="hs-comment">-- representation</span><span>
</span><span id="line-105"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="FieldNotFound"><span class="annot"><a href="Dovetail.Types.html#FieldNotFound"><span class="hs-identifier hs-var">FieldNotFound</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>
</span><span id="line-106"></span><span>  </span><span class="hs-comment">-- ^ A record field did not exist in an 'Object' value.</span><span>
</span><span id="line-107"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="InexhaustivePatternMatch"><span class="annot"><a href="Dovetail.Types.html#InexhaustivePatternMatch"><span class="hs-identifier hs-var">InexhaustivePatternMatch</span></a></span></span><span>
</span><span id="line-108"></span><span>  </span><span class="hs-comment">-- ^ A pattern match failed to match its argument</span><span>
</span><span id="line-109"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="InvalidNumberOfArguments"><span class="annot"><a href="Dovetail.Types.html#InvalidNumberOfArguments"><span class="hs-identifier hs-var">InvalidNumberOfArguments</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>
</span><span id="line-110"></span><span>  </span><span class="hs-comment">-- ^ A pattern match received the wrong number of arguments</span><span>
</span><span id="line-111"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="UnsaturatedConstructorApplication"><span class="annot"><a href="Dovetail.Types.html#UnsaturatedConstructorApplication"><span class="hs-identifier hs-var">UnsaturatedConstructorApplication</span></a></span></span><span>
</span><span id="line-112"></span><span>  </span><span class="hs-comment">-- ^ A pattern match occurred against a partially-applied data constructor</span><span>
</span><span id="line-113"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="InvalidFieldName"><span class="annot"><a href="Dovetail.Types.html#InvalidFieldName"><span class="hs-identifier hs-var">InvalidFieldName</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PSString.PSString</span></span><span>
</span><span id="line-114"></span><span>  </span><span class="hs-comment">-- ^ A PureScript string which contains lone surrogates which could not be</span><span>
</span><span id="line-115"></span><span>  </span><span class="hs-comment">-- decoded. See 'PSString.PSString'.</span><span>
</span><span id="line-116"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="OtherError"><span class="annot"><a href="Dovetail.Types.html#OtherError"><span class="hs-identifier hs-var">OtherError</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>
</span><span id="line-117"></span><span>  </span><span class="hs-comment">-- ^ An error occurred in a foreign function which is not tracked by</span><span>
</span><span id="line-118"></span><span>  </span><span class="hs-comment">-- any of the other error types.</span><span>
</span><span id="line-119"></span><span>  </span><span class="hs-comment">--</span><span>
</span><span id="line-120"></span><span>  </span><span class="hs-comment">-- TODO: remove this in favor of using monadic FFI functions</span><span>
</span><span id="line-121"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span id="local-6989586621679123578"><span id="local-6989586621679123580"><span id="local-6989586621679123582"><span class="annot"><span class="annottext">Int -&gt; EvaluationError -&gt; ShowS
[EvaluationError] -&gt; ShowS
EvaluationError -&gt; String
(Int -&gt; EvaluationError -&gt; ShowS)
-&gt; (EvaluationError -&gt; String)
-&gt; ([EvaluationError] -&gt; ShowS)
-&gt; Show EvaluationError
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [EvaluationError] -&gt; ShowS
$cshowList :: [EvaluationError] -&gt; ShowS
show :: EvaluationError -&gt; String
$cshow :: EvaluationError -&gt; String
showsPrec :: Int -&gt; EvaluationError -&gt; ShowS
$cshowsPrec :: Int -&gt; EvaluationError -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span>
</span><span id="line-122"></span><span>
</span><span id="line-123"></span><span class="hs-comment">-- | Render an 'EvaluationError' as a human-readable string.</span><span>
</span><span id="line-124"></span><span class="annot"><a href="Dovetail.Types.html#renderEvaluationError"><span class="hs-identifier hs-type">renderEvaluationError</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Dovetail.Types.html#EvaluationError"><span class="hs-identifier hs-type">EvaluationError</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-125"></span><span id="renderEvaluationError"><span class="annot"><span class="annottext">renderEvaluationError :: EvaluationError -&gt; String
</span><a href="Dovetail.Types.html#renderEvaluationError"><span class="hs-identifier hs-var hs-var">renderEvaluationError</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Dovetail.Types.html#UnknownIdent"><span class="hs-identifier hs-type">UnknownIdent</span></a></span><span> </span><span id="local-6989586621679123576"><span class="annot"><span class="annottext">Qualified Ident
</span><a href="#local-6989586621679123576"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-126"></span><span>  </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Identifier not in scope: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; String
</span><span class="hs-identifier hs-var">Text.unpack</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Ident -&gt; Text) -&gt; Qualified Ident -&gt; Text
forall a. (a -&gt; Text) -&gt; Qualified a -&gt; Text
</span><span class="hs-identifier hs-var">Names.showQualified</span></span><span> </span><span class="annot"><span class="annottext">Ident -&gt; Text
</span><span class="hs-identifier hs-var">Names.showIdent</span></span><span> </span><span class="annot"><span class="annottext">Qualified Ident
</span><a href="#local-6989586621679123576"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-127"></span><span class="annot"><a href="Dovetail.Types.html#renderEvaluationError"><span class="hs-identifier hs-var">renderEvaluationError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Dovetail.Types.html#TypeMismatch"><span class="hs-identifier hs-type">TypeMismatch</span></a></span><span> </span><span id="local-6989586621679123572"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679123572"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-128"></span><span>  </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Type mismatch, expected &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; String
</span><span class="hs-identifier hs-var">Text.unpack</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679123572"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-129"></span><span class="annot"><a href="Dovetail.Types.html#renderEvaluationError"><span class="hs-identifier hs-var">renderEvaluationError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Dovetail.Types.html#FieldNotFound"><span class="hs-identifier hs-type">FieldNotFound</span></a></span><span> </span><span id="local-6989586621679123571"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679123571"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-130"></span><span>  </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Record field not found: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; String
</span><span class="hs-identifier hs-var">Text.unpack</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679123571"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-131"></span><span class="annot"><a href="Dovetail.Types.html#renderEvaluationError"><span class="hs-identifier hs-var">renderEvaluationError</span></a></span><span> </span><span class="annot"><span class="annottext">EvaluationError
</span><a href="Dovetail.Types.html#InexhaustivePatternMatch"><span class="hs-identifier hs-var">InexhaustivePatternMatch</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-132"></span><span>  </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Inexhaustive pattern match&quot;</span></span><span>
</span><span id="line-133"></span><span class="annot"><a href="Dovetail.Types.html#renderEvaluationError"><span class="hs-identifier hs-var">renderEvaluationError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Dovetail.Types.html#InvalidNumberOfArguments"><span class="hs-identifier hs-type">InvalidNumberOfArguments</span></a></span><span> </span><span id="local-6989586621679123570"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679123570"><span class="hs-identifier hs-var">given</span></a></span></span><span> </span><span id="local-6989586621679123569"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679123569"><span class="hs-identifier hs-var">expected</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-134"></span><span>  </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Invalid number of arguments, given &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679123570"><span class="hs-identifier hs-var">given</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;, but expected &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679123569"><span class="hs-identifier hs-var">expected</span></a></span><span>
</span><span id="line-135"></span><span class="annot"><a href="Dovetail.Types.html#renderEvaluationError"><span class="hs-identifier hs-var">renderEvaluationError</span></a></span><span> </span><span class="annot"><span class="annottext">EvaluationError
</span><a href="Dovetail.Types.html#UnsaturatedConstructorApplication"><span class="hs-identifier hs-var">UnsaturatedConstructorApplication</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-136"></span><span>  </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Unsaturated constructor application&quot;</span></span><span>
</span><span id="line-137"></span><span class="annot"><a href="Dovetail.Types.html#renderEvaluationError"><span class="hs-identifier hs-var">renderEvaluationError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Dovetail.Types.html#InvalidFieldName"><span class="hs-identifier hs-type">InvalidFieldName</span></a></span><span> </span><span id="local-6989586621679123567"><span class="annot"><span class="annottext">PSString
</span><a href="#local-6989586621679123567"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-138"></span><span>  </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Invalid field name: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">PSString -&gt; String
</span><span class="hs-identifier hs-var">PSString.decodeStringWithReplacement</span></span><span> </span><span class="annot"><span class="annottext">PSString
</span><a href="#local-6989586621679123567"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-139"></span><span class="annot"><a href="Dovetail.Types.html#renderEvaluationError"><span class="hs-identifier hs-var">renderEvaluationError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Dovetail.Types.html#OtherError"><span class="hs-identifier hs-type">OtherError</span></a></span><span> </span><span id="local-6989586621679123565"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679123565"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-140"></span><span>  </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Other error: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; String
</span><span class="hs-identifier hs-var">Text.unpack</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679123565"><span class="hs-identifier hs-var">x</span></a></span></pre></body></html>