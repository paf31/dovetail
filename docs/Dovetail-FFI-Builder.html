<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Dovetail.FFI.Builder</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">dovetail-0.1.0.0</span><ul class="links" id="page-menu"><li><a href="src/Dovetail.FFI.Builder.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Dovetail.FFI.Builder</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">FFI Builder API</a></li><li><a href="#g:2">Supported FFI types</a></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This module provides a higher-level API on top of the 
 <a href="Dovetail-FFI.html">Dovetail.FFI</a> module. It is not as expressive as the
 functions in that module, but has the benefit that it is much harder to use
 this module to construct an FFI which will result in runtime errors, since
 it attempts to synthesize the types of the Haskell implementations from the
 types of the declared PureScript foreign imports.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:FFIBuilder">FFIBuilder</a> m a</li><li class="src short"><a href="#v:runFFIBuilder">runFFIBuilder</a> :: ModuleName -&gt; <a href="Dovetail-FFI-Builder.html#t:FFIBuilder" title="Dovetail.FFI.Builder">FFIBuilder</a> m a -&gt; (a, <a href="Dovetail-FFI.html#t:FFI" title="Dovetail.FFI">FFI</a> m)</li><li class="src short"><a href="#v:evalFFIBuilder">evalFFIBuilder</a> :: ModuleName -&gt; <a href="Dovetail-FFI-Builder.html#t:FFIBuilder" title="Dovetail.FFI.Builder">FFIBuilder</a> m a -&gt; <a href="Dovetail-FFI.html#t:FFI" title="Dovetail.FFI">FFI</a> m</li><li class="src short"><a href="#v:foreignImport">foreignImport</a> :: (<a href="../base-4.14.1.0/Control-Monad-Fix.html#t:MonadFix" title="Control.Monad.Fix">MonadFix</a> m, <a href="Dovetail-Evaluate.html#t:ToValue" title="Dovetail.Evaluate">ToValue</a> m a, <a href="Dovetail-FFI-Builder.html#t:ForAll" title="Dovetail.FFI.Builder">ForAll</a> m a ty) =&gt; Ident -&gt; ty -&gt; a -&gt; <a href="Dovetail-FFI-Builder.html#t:FFIBuilder" title="Dovetail.FFI.Builder">FFIBuilder</a> m ()</li><li class="src short"><span class="keyword">data</span> <a href="#t:FunctionType">FunctionType</a> m l r</li><li class="src short"><a href="#v:string">string</a> :: <a href="Dovetail-FFI-Builder.html#t:FunctionType" title="Dovetail.FFI.Builder">FunctionType</a> m <a href="../protolude-0.3.0/Protolude.html#t:Text" title="Protolude">Text</a> (<a href="Dovetail-Types.html#t:EvalT" title="Dovetail.Types">EvalT</a> m <a href="../protolude-0.3.0/Protolude.html#t:Text" title="Protolude">Text</a>)</li><li class="src short"><a href="#v:char">char</a> :: <a href="Dovetail-FFI-Builder.html#t:FunctionType" title="Dovetail.FFI.Builder">FunctionType</a> m <a href="../Cabal-3.2.1.0/Distribution-Compat-Prelude-Internal.html#t:Char" title="Distribution.Compat.Prelude.Internal">Char</a> (<a href="Dovetail-Types.html#t:EvalT" title="Dovetail.Types">EvalT</a> m <a href="../Cabal-3.2.1.0/Distribution-Compat-Prelude-Internal.html#t:Char" title="Distribution.Compat.Prelude.Internal">Char</a>)</li><li class="src short"><a href="#v:boolean">boolean</a> :: <a href="Dovetail-FFI-Builder.html#t:FunctionType" title="Dovetail.FFI.Builder">FunctionType</a> m <a href="../Cabal-3.2.1.0/Distribution-Compat-Prelude-Internal.html#t:Bool" title="Distribution.Compat.Prelude.Internal">Bool</a> (<a href="Dovetail-Types.html#t:EvalT" title="Dovetail.Types">EvalT</a> m <a href="../Cabal-3.2.1.0/Distribution-Compat-Prelude-Internal.html#t:Bool" title="Distribution.Compat.Prelude.Internal">Bool</a>)</li><li class="src short"><a href="#v:number">number</a> :: <a href="Dovetail-FFI-Builder.html#t:FunctionType" title="Dovetail.FFI.Builder">FunctionType</a> m <a href="../Cabal-3.2.1.0/Distribution-Compat-Prelude-Internal.html#t:Double" title="Distribution.Compat.Prelude.Internal">Double</a> (<a href="Dovetail-Types.html#t:EvalT" title="Dovetail.Types">EvalT</a> m <a href="../Cabal-3.2.1.0/Distribution-Compat-Prelude-Internal.html#t:Double" title="Distribution.Compat.Prelude.Internal">Double</a>)</li><li class="src short"><a href="#v:int">int</a> :: <a href="Dovetail-FFI-Builder.html#t:FunctionType" title="Dovetail.FFI.Builder">FunctionType</a> m <a href="../Cabal-3.2.1.0/Distribution-Compat-Prelude-Internal.html#t:Integer" title="Distribution.Compat.Prelude.Internal">Integer</a> (<a href="Dovetail-Types.html#t:EvalT" title="Dovetail.Types">EvalT</a> m <a href="../Cabal-3.2.1.0/Distribution-Compat-Prelude-Internal.html#t:Integer" title="Distribution.Compat.Prelude.Internal">Integer</a>)</li><li class="src short"><a href="#v:array">array</a> :: <a href="Dovetail-FFI-Builder.html#t:FunctionType" title="Dovetail.FFI.Builder">FunctionType</a> m l r -&gt; <a href="Dovetail-FFI-Builder.html#t:FunctionType" title="Dovetail.FFI.Builder">FunctionType</a> m (<a href="../vector-0.12.1.2/Data-Vector.html#t:Vector" title="Data.Vector">Vector</a> l) (<a href="Dovetail-Types.html#t:EvalT" title="Dovetail.Types">EvalT</a> m (<a href="../vector-0.12.1.2/Data-Vector.html#t:Vector" title="Data.Vector">Vector</a> l))</li><li class="src short"><a href="#v:-126--62-">(~&gt;)</a> :: <a href="Dovetail-FFI-Builder.html#t:FunctionType" title="Dovetail.FFI.Builder">FunctionType</a> m al ar -&gt; <a href="Dovetail-FFI-Builder.html#t:FunctionType" title="Dovetail.FFI.Builder">FunctionType</a> m bl br -&gt; <a href="Dovetail-FFI-Builder.html#t:FunctionType" title="Dovetail.FFI.Builder">FunctionType</a> m (al -&gt; br) (al -&gt; br)</li><li class="src short"><span class="keyword">class</span> <a href="#t:ForAll">ForAll</a> m r a | a -&gt; m r</li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>FFI Builder API</h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:FFIBuilder" class="def">FFIBuilder</a> m a <a href="src/Dovetail.FFI.Builder.html#FFIBuilder" class="link">Source</a> <a href="#t:FFIBuilder" class="selflink">#</a></p><div class="doc"><p>A monad for constructing <code><a href="Dovetail-FFI.html#t:FFI" title="Dovetail.FFI">FFI</a></code> data structures.</p><p>For example:</p><pre>FFI.<code><a href="Dovetail-FFI-Builder.html#v:evalFFIBuilder" title="Dovetail.FFI.Builder">evalFFIBuilder</a></code> (<code>ModuleName</code> &quot;Example&quot;) do
  FFI.<code><a href="Dovetail-FFI-Builder.html#v:foreignImport" title="Dovetail.FFI.Builder">foreignImport</a></code> (P.Ident &quot;example&quot;)
    (a -&gt; a ~&gt; a)
    pure
</pre></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:FFIBuilder">Instances</h4><details id="i:FFIBuilder" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:FFIBuilder:Monad:1"></span> <a href="../Cabal-3.2.1.0/Distribution-Compat-Prelude-Internal.html#t:Monad" title="Distribution.Compat.Prelude.Internal">Monad</a> (<a href="Dovetail-FFI-Builder.html#t:FFIBuilder" title="Dovetail.FFI.Builder">FFIBuilder</a> m)</span> <a href="src/Dovetail.FFI.Builder.html#line-171" class="link">Source</a> <a href="#t:FFIBuilder" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:FFIBuilder:Monad:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Dovetail-FFI-Builder.html">Dovetail.FFI.Builder</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-62--62--61-">(&gt;&gt;=)</a> :: <a href="Dovetail-FFI-Builder.html#t:FFIBuilder" title="Dovetail.FFI.Builder">FFIBuilder</a> m a -&gt; (a -&gt; <a href="Dovetail-FFI-Builder.html#t:FFIBuilder" title="Dovetail.FFI.Builder">FFIBuilder</a> m b) -&gt; <a href="Dovetail-FFI-Builder.html#t:FFIBuilder" title="Dovetail.FFI.Builder">FFIBuilder</a> m b <a href="#v:-62--62--61-" class="selflink">#</a></p><p class="src"><a href="#v:-62--62-">(&gt;&gt;)</a> :: <a href="Dovetail-FFI-Builder.html#t:FFIBuilder" title="Dovetail.FFI.Builder">FFIBuilder</a> m a -&gt; <a href="Dovetail-FFI-Builder.html#t:FFIBuilder" title="Dovetail.FFI.Builder">FFIBuilder</a> m b -&gt; <a href="Dovetail-FFI-Builder.html#t:FFIBuilder" title="Dovetail.FFI.Builder">FFIBuilder</a> m b <a href="#v:-62--62-" class="selflink">#</a></p><p class="src"><a href="#v:return">return</a> :: a -&gt; <a href="Dovetail-FFI-Builder.html#t:FFIBuilder" title="Dovetail.FFI.Builder">FFIBuilder</a> m a <a href="#v:return" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:FFIBuilder:Functor:2"></span> <a href="../Cabal-3.2.1.0/Distribution-Compat-Prelude-Internal.html#t:Functor" title="Distribution.Compat.Prelude.Internal">Functor</a> (<a href="Dovetail-FFI-Builder.html#t:FFIBuilder" title="Dovetail.FFI.Builder">FFIBuilder</a> m)</span> <a href="src/Dovetail.FFI.Builder.html#line-171" class="link">Source</a> <a href="#t:FFIBuilder" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:FFIBuilder:Functor:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Dovetail-FFI-Builder.html">Dovetail.FFI.Builder</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fmap">fmap</a> :: (a -&gt; b) -&gt; <a href="Dovetail-FFI-Builder.html#t:FFIBuilder" title="Dovetail.FFI.Builder">FFIBuilder</a> m a -&gt; <a href="Dovetail-FFI-Builder.html#t:FFIBuilder" title="Dovetail.FFI.Builder">FFIBuilder</a> m b <a href="#v:fmap" class="selflink">#</a></p><p class="src"><a href="#v:-60--36-">(&lt;$)</a> :: a -&gt; <a href="Dovetail-FFI-Builder.html#t:FFIBuilder" title="Dovetail.FFI.Builder">FFIBuilder</a> m b -&gt; <a href="Dovetail-FFI-Builder.html#t:FFIBuilder" title="Dovetail.FFI.Builder">FFIBuilder</a> m a <a href="#v:-60--36-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:FFIBuilder:Applicative:3"></span> <a href="../Cabal-3.2.1.0/Distribution-Compat-Prelude-Internal.html#t:Applicative" title="Distribution.Compat.Prelude.Internal">Applicative</a> (<a href="Dovetail-FFI-Builder.html#t:FFIBuilder" title="Dovetail.FFI.Builder">FFIBuilder</a> m)</span> <a href="src/Dovetail.FFI.Builder.html#line-171" class="link">Source</a> <a href="#t:FFIBuilder" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:FFIBuilder:Applicative:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Dovetail-FFI-Builder.html">Dovetail.FFI.Builder</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:pure">pure</a> :: a -&gt; <a href="Dovetail-FFI-Builder.html#t:FFIBuilder" title="Dovetail.FFI.Builder">FFIBuilder</a> m a <a href="#v:pure" class="selflink">#</a></p><p class="src"><a href="#v:-60--42--62-">(&lt;*&gt;)</a> :: <a href="Dovetail-FFI-Builder.html#t:FFIBuilder" title="Dovetail.FFI.Builder">FFIBuilder</a> m (a -&gt; b) -&gt; <a href="Dovetail-FFI-Builder.html#t:FFIBuilder" title="Dovetail.FFI.Builder">FFIBuilder</a> m a -&gt; <a href="Dovetail-FFI-Builder.html#t:FFIBuilder" title="Dovetail.FFI.Builder">FFIBuilder</a> m b <a href="#v:-60--42--62-" class="selflink">#</a></p><p class="src"><a href="#v:liftA2">liftA2</a> :: (a -&gt; b -&gt; c) -&gt; <a href="Dovetail-FFI-Builder.html#t:FFIBuilder" title="Dovetail.FFI.Builder">FFIBuilder</a> m a -&gt; <a href="Dovetail-FFI-Builder.html#t:FFIBuilder" title="Dovetail.FFI.Builder">FFIBuilder</a> m b -&gt; <a href="Dovetail-FFI-Builder.html#t:FFIBuilder" title="Dovetail.FFI.Builder">FFIBuilder</a> m c <a href="#v:liftA2" class="selflink">#</a></p><p class="src"><a href="#v:-42--62-">(*&gt;)</a> :: <a href="Dovetail-FFI-Builder.html#t:FFIBuilder" title="Dovetail.FFI.Builder">FFIBuilder</a> m a -&gt; <a href="Dovetail-FFI-Builder.html#t:FFIBuilder" title="Dovetail.FFI.Builder">FFIBuilder</a> m b -&gt; <a href="Dovetail-FFI-Builder.html#t:FFIBuilder" title="Dovetail.FFI.Builder">FFIBuilder</a> m b <a href="#v:-42--62-" class="selflink">#</a></p><p class="src"><a href="#v:-60--42-">(&lt;*)</a> :: <a href="Dovetail-FFI-Builder.html#t:FFIBuilder" title="Dovetail.FFI.Builder">FFIBuilder</a> m a -&gt; <a href="Dovetail-FFI-Builder.html#t:FFIBuilder" title="Dovetail.FFI.Builder">FFIBuilder</a> m b -&gt; <a href="Dovetail-FFI-Builder.html#t:FFIBuilder" title="Dovetail.FFI.Builder">FFIBuilder</a> m a <a href="#v:-60--42-" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:runFFIBuilder" class="def">runFFIBuilder</a> :: ModuleName -&gt; <a href="Dovetail-FFI-Builder.html#t:FFIBuilder" title="Dovetail.FFI.Builder">FFIBuilder</a> m a -&gt; (a, <a href="Dovetail-FFI.html#t:FFI" title="Dovetail.FFI">FFI</a> m) <a href="src/Dovetail.FFI.Builder.html#runFFIBuilder" class="link">Source</a> <a href="#v:runFFIBuilder" class="selflink">#</a></p><div class="doc"><p>Run a computation in the <code><a href="Dovetail-FFI-Builder.html#t:FFIBuilder" title="Dovetail.FFI.Builder">FFIBuilder</a></code> monad, returning the result of the
 computation alongside the constructed <code><a href="Dovetail-FFI.html#t:FFI" title="Dovetail.FFI">FFI</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:evalFFIBuilder" class="def">evalFFIBuilder</a> :: ModuleName -&gt; <a href="Dovetail-FFI-Builder.html#t:FFIBuilder" title="Dovetail.FFI.Builder">FFIBuilder</a> m a -&gt; <a href="Dovetail-FFI.html#t:FFI" title="Dovetail.FFI">FFI</a> m <a href="src/Dovetail.FFI.Builder.html#evalFFIBuilder" class="link">Source</a> <a href="#v:evalFFIBuilder" class="selflink">#</a></p><div class="doc"><p>Run a computation in the <code><a href="Dovetail-FFI-Builder.html#t:FFIBuilder" title="Dovetail.FFI.Builder">FFIBuilder</a></code> monad, returning only the constructed
 <code><a href="Dovetail-FFI.html#t:FFI" title="Dovetail.FFI">FFI</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:foreignImport" class="def">foreignImport</a> :: (<a href="../base-4.14.1.0/Control-Monad-Fix.html#t:MonadFix" title="Control.Monad.Fix">MonadFix</a> m, <a href="Dovetail-Evaluate.html#t:ToValue" title="Dovetail.Evaluate">ToValue</a> m a, <a href="Dovetail-FFI-Builder.html#t:ForAll" title="Dovetail.FFI.Builder">ForAll</a> m a ty) =&gt; Ident -&gt; ty -&gt; a -&gt; <a href="Dovetail-FFI-Builder.html#t:FFIBuilder" title="Dovetail.FFI.Builder">FFIBuilder</a> m () <a href="src/Dovetail.FFI.Builder.html#foreignImport" class="link">Source</a> <a href="#v:foreignImport" class="selflink">#</a></p><div class="doc"><p>Define a value which will be implemented in Haskell.</p><p>The first argument gives a name to the value on the PureScript side.</p><p>The second argument is a function which describes its PureScript type.
 See <code><a href="Dovetail-FFI-Builder.html#t:ForAll" title="Dovetail.FFI.Builder">ForAll</a></code> for an explanation of its purpose.</p><p>The final argument is the Haskell implementation of the value.</p><p>The type checker will ensure that the PureScript and Haskell types are
 compatible.</p></div></div><a href="#g:2" id="g:2"><h1>Supported FFI types</h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:FunctionType" class="def">FunctionType</a> m l r <a href="src/Dovetail.FFI.Builder.html#FunctionType" class="link">Source</a> <a href="#t:FunctionType" class="selflink">#</a></p><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:FunctionType">Instances</h4><details id="i:FunctionType" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:FunctionType:ForAll:1"></span> <a href="Dovetail-FFI-Builder.html#t:ForAll" title="Dovetail.FFI.Builder">ForAll</a> m a (<a href="Dovetail-FFI-Builder.html#t:FunctionType" title="Dovetail.FFI.Builder">FunctionType</a> m a r_)</span> <a href="src/Dovetail.FFI.Builder.html#line-107" class="link">Source</a> <a href="#t:FunctionType" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:FunctionType:ForAll:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Dovetail-FFI-Builder.html">Dovetail.FFI.Builder</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:forAll">forAll</a> :: <a href="Dovetail-FFI-Builder.html#t:FunctionType" title="Dovetail.FFI.Builder">FunctionType</a> m a r_ -&gt; TypeScheme m a</p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:string" class="def">string</a> :: <a href="Dovetail-FFI-Builder.html#t:FunctionType" title="Dovetail.FFI.Builder">FunctionType</a> m <a href="../protolude-0.3.0/Protolude.html#t:Text" title="Protolude">Text</a> (<a href="Dovetail-Types.html#t:EvalT" title="Dovetail.Types">EvalT</a> m <a href="../protolude-0.3.0/Protolude.html#t:Text" title="Protolude">Text</a>) <a href="src/Dovetail.FFI.Builder.html#string" class="link">Source</a> <a href="#v:string" class="selflink">#</a></p><div class="doc"><p>The PureScript string type</p></div></div><div class="top"><p class="src"><a id="v:char" class="def">char</a> :: <a href="Dovetail-FFI-Builder.html#t:FunctionType" title="Dovetail.FFI.Builder">FunctionType</a> m <a href="../Cabal-3.2.1.0/Distribution-Compat-Prelude-Internal.html#t:Char" title="Distribution.Compat.Prelude.Internal">Char</a> (<a href="Dovetail-Types.html#t:EvalT" title="Dovetail.Types">EvalT</a> m <a href="../Cabal-3.2.1.0/Distribution-Compat-Prelude-Internal.html#t:Char" title="Distribution.Compat.Prelude.Internal">Char</a>) <a href="src/Dovetail.FFI.Builder.html#char" class="link">Source</a> <a href="#v:char" class="selflink">#</a></p><div class="doc"><p>The PureScript char type</p></div></div><div class="top"><p class="src"><a id="v:boolean" class="def">boolean</a> :: <a href="Dovetail-FFI-Builder.html#t:FunctionType" title="Dovetail.FFI.Builder">FunctionType</a> m <a href="../Cabal-3.2.1.0/Distribution-Compat-Prelude-Internal.html#t:Bool" title="Distribution.Compat.Prelude.Internal">Bool</a> (<a href="Dovetail-Types.html#t:EvalT" title="Dovetail.Types">EvalT</a> m <a href="../Cabal-3.2.1.0/Distribution-Compat-Prelude-Internal.html#t:Bool" title="Distribution.Compat.Prelude.Internal">Bool</a>) <a href="src/Dovetail.FFI.Builder.html#boolean" class="link">Source</a> <a href="#v:boolean" class="selflink">#</a></p><div class="doc"><p>The PureScript boolean type</p></div></div><div class="top"><p class="src"><a id="v:number" class="def">number</a> :: <a href="Dovetail-FFI-Builder.html#t:FunctionType" title="Dovetail.FFI.Builder">FunctionType</a> m <a href="../Cabal-3.2.1.0/Distribution-Compat-Prelude-Internal.html#t:Double" title="Distribution.Compat.Prelude.Internal">Double</a> (<a href="Dovetail-Types.html#t:EvalT" title="Dovetail.Types">EvalT</a> m <a href="../Cabal-3.2.1.0/Distribution-Compat-Prelude-Internal.html#t:Double" title="Distribution.Compat.Prelude.Internal">Double</a>) <a href="src/Dovetail.FFI.Builder.html#number" class="link">Source</a> <a href="#v:number" class="selflink">#</a></p><div class="doc"><p>The PureScript number type</p></div></div><div class="top"><p class="src"><a id="v:int" class="def">int</a> :: <a href="Dovetail-FFI-Builder.html#t:FunctionType" title="Dovetail.FFI.Builder">FunctionType</a> m <a href="../Cabal-3.2.1.0/Distribution-Compat-Prelude-Internal.html#t:Integer" title="Distribution.Compat.Prelude.Internal">Integer</a> (<a href="Dovetail-Types.html#t:EvalT" title="Dovetail.Types">EvalT</a> m <a href="../Cabal-3.2.1.0/Distribution-Compat-Prelude-Internal.html#t:Integer" title="Distribution.Compat.Prelude.Internal">Integer</a>) <a href="src/Dovetail.FFI.Builder.html#int" class="link">Source</a> <a href="#v:int" class="selflink">#</a></p><div class="doc"><p>The PureScript integer type</p></div></div><div class="top"><p class="src"><a id="v:array" class="def">array</a> :: <a href="Dovetail-FFI-Builder.html#t:FunctionType" title="Dovetail.FFI.Builder">FunctionType</a> m l r -&gt; <a href="Dovetail-FFI-Builder.html#t:FunctionType" title="Dovetail.FFI.Builder">FunctionType</a> m (<a href="../vector-0.12.1.2/Data-Vector.html#t:Vector" title="Data.Vector">Vector</a> l) (<a href="Dovetail-Types.html#t:EvalT" title="Dovetail.Types">EvalT</a> m (<a href="../vector-0.12.1.2/Data-Vector.html#t:Vector" title="Data.Vector">Vector</a> l)) <a href="src/Dovetail.FFI.Builder.html#array" class="link">Source</a> <a href="#v:array" class="selflink">#</a></p><div class="doc"><p>Construct a PureScript array type</p></div></div><div class="top"><p class="src"><a id="v:-126--62-" class="def">(~&gt;)</a> :: <a href="Dovetail-FFI-Builder.html#t:FunctionType" title="Dovetail.FFI.Builder">FunctionType</a> m al ar -&gt; <a href="Dovetail-FFI-Builder.html#t:FunctionType" title="Dovetail.FFI.Builder">FunctionType</a> m bl br -&gt; <a href="Dovetail-FFI-Builder.html#t:FunctionType" title="Dovetail.FFI.Builder">FunctionType</a> m (al -&gt; br) (al -&gt; br) <span class="fixity">infixr 0</span><span class="rightedge"></span> <a href="src/Dovetail.FFI.Builder.html#~%3E" class="link">Source</a> <a href="#v:-126--62-" class="selflink">#</a></p><div class="doc"><p>Construct a PureScript function type</p></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a id="t:ForAll" class="def">ForAll</a> m r a | a -&gt; m r <a href="src/Dovetail.FFI.Builder.html#ForAll" class="link">Source</a> <a href="#t:ForAll" class="selflink">#</a></p><div class="doc"><p>This type class exists to facilitate the concise description of
 PureScript type schemes using the <code><a href="Dovetail-FFI-Builder.html#v:foreignImport" title="Dovetail.FFI.Builder">foreignImport</a></code> function.
 It is best understood via its examples:</p><pre>foreignImport (Ident &quot;identity&quot;) a -&gt; a ~&gt; a
  :: MonadFix m 
  =&gt; (Value m -&gt; EvalT m (Value m)) 
  -&gt; FFIBuilder m ()

foreignImport (Ident &quot;flip&quot;) a b c -&gt; (a ~&gt; b ~&gt; c) ~&gt; b ~&gt; a ~&gt; c
  :: MonadFix m 
  =&gt; ((Value m -&gt; Value m -&gt; EvalT m (Value m))
  -&gt;   Value m -&gt; Value m -&gt; EvalT m (Value m))
  -&gt; FFIBuilder m ()
</pre><p>These Haskell functions applications describe the PureScript type schemes for the 
 <code>identity</code> and <code>flip</code> functions respectively.</p><p>Notice that the result type of these applications indicates the corresponding
 Haskell type which must be implemented in order to satisfy the contract of the
 FFI. Note, these types have been are inferred, which highlights why this 
 type class is worth its seeming complexity: the goal is to allow the user to
 express the PureScript type, and have the compiler compute the Haskell type for
 us. This is about as simple as things can get - we cannot simply specify the
 Haskell implementation and infer the PureScript type, because there is not a
 single best PureScript type for every given Haskell type.</p></div><div class="subs minimal"><p class="caption">Minimal complete definition</p><p class="src">forAll</p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:ForAll">Instances</h4><details id="i:ForAll" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:ForAll:ForAll:1"></span> (<a href="Dovetail-FFI-Builder.html#t:ForAll" title="Dovetail.FFI.Builder">ForAll</a> m r o, a ~ <a href="Dovetail-FFI-Builder.html#t:FunctionType" title="Dovetail.FFI.Builder">FunctionType</a> m (<a href="Dovetail-Types.html#t:Value" title="Dovetail.Types">Value</a> m) (<a href="Dovetail-Types.html#t:EvalT" title="Dovetail.Types">EvalT</a> m (<a href="Dovetail-Types.html#t:Value" title="Dovetail.Types">Value</a> m))) =&gt; <a href="Dovetail-FFI-Builder.html#t:ForAll" title="Dovetail.FFI.Builder">ForAll</a> m r (a -&gt; o)</span> <a href="src/Dovetail.FFI.Builder.html#line-110" class="link">Source</a> <a href="#t:ForAll" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:ForAll:ForAll:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Dovetail-FFI-Builder.html">Dovetail.FFI.Builder</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:forAll">forAll</a> :: (a -&gt; o) -&gt; TypeScheme m r</p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:ForAll:ForAll:2"></span> <a href="Dovetail-FFI-Builder.html#t:ForAll" title="Dovetail.FFI.Builder">ForAll</a> m a (<a href="Dovetail-FFI-Builder.html#t:FunctionType" title="Dovetail.FFI.Builder">FunctionType</a> m a r_)</span> <a href="src/Dovetail.FFI.Builder.html#line-107" class="link">Source</a> <a href="#t:ForAll" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:ForAll:ForAll:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Dovetail-FFI-Builder.html">Dovetail.FFI.Builder</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:forAll">forAll</a> :: <a href="Dovetail-FFI-Builder.html#t:FunctionType" title="Dovetail.FFI.Builder">FunctionType</a> m a r_ -&gt; TypeScheme m a</p></div></details></td></tr></table></details></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.24.0</p></div></body></html>